<div class="middle-section clearFix" id="enquiryList" [ngBusy]="{busy: busy, message: 'Loading...', delay: 100, maxDuration: 1000}" (click)="inputClicked($event)">

  <section class="middle-top clearFix custom-comp-header">

    <div class="row">

      <h1 class="pull-left">
        Create Custom Component
      </h1>

      <aside class="pull-right">
        <!-- <input type="button" value="Manage Enquiries"  class="btn" />
        <input type="button" value="Manage Students" class="btn" /> -->
      </aside>
    </div>

  </section>


  <section class="middle-main clearFix">

    <div class="row">
      <div class="clearFix add-edit">
        <a (click)="toggleNewComponentVisisbility()">
          <i id="addComponent-icon">+</i>
          <span>Create New Component</span>
        </a>
      </div>
    </div>

    <div class="createcomponent-wrapper" *ngIf="isNewComponent">

      <div class="row extraMargin">
        <div class="c-lg-6 c-md-6 c-sm-6 c-xs-6">
          <div class="field-wrapper">
            <input type="text" class="form-ctrl" [(ngModel)]="createCustomComponentForm.label" name="label" (focus)="inputClicked($event)">
            <label for="label">Label*</label>
          </div>
        </div>
        <div class="c-lg-6 c-md-6 c-sm-6 c-xs-6">
          <div class="field-wrapper">
            <select id="" class="form-ctrl" [(ngModel)]="createCustomComponentForm.type" name="opt.data_value" (focus)="inputClicked($event)">
              <option *ngFor="let opt of componentShell" [value]="opt.data_key">
                {{opt.data_value}}
              </option>
            </select>
            <label for="">Type*</label>
          </div>
        </div>
      </div>

      <div class="row extraMargin">
        <div class="c-lg-6 c-md-6 c-sm-6 c-xs-6">
          <div class="field-wrapper">
            <input type="text" class="form-ctrl" [(ngModel)]="createCustomComponentForm.prefilled_data" name="prefilledData" (focus)="inputClicked($event)">
            <label for="prefilledData">Prefilled Data (Non-Empty And Separated By ,)</label>
          </div>
        </div>
        <div class="c-lg-6 c-md-6 c-sm-6 c-xs-6">
          <div class="field-wrapper">
            <input type="text" class="form-ctrl" [(ngModel)]="createCustomComponentForm.description" name="description" (focus)="inputClicked($event)">
            <label for="description">Description</label>
          </div>
        </div>
      </div>

      <div class="row extraMargin">
        <div class="c-lg-6 c-md-6 c-sm-6 c-xs-6">
          <div class="field-wrapper has-value">
            <select id="isrequired" class="form-ctrl" name="isrequired" [(ngModel)]="createCustomComponentForm.is_required" (focus)="inputClicked($event)">
              <option value="Y">Y</option>
              <option value="N">N</option>
            </select>
            <label for="isrequired">Is Required</label>
          </div>
        </div>
        <div class="c-lg-6 c-md-6 c-sm-6 c-xs-6">
          <div class="field-wrapper has-value">
            <select id="issearchable" class="form-ctrl" name="issearchable" [(ngModel)]="createCustomComponentForm.is_searchable" (focus)="inputClicked($event)">
              <option value="Y">Y</option>
              <option value="N">N</option>
            </select>
            <label for="issearchable">Is Searchable</label>
          </div>
        </div>

      </div>

      <div class="row extraMargin">
        <div class="c-lg-6 c-md-6 c-sm-6 c-xs-6">
          <div class="field-wrapper">
            <input type="text" class="form-ctrl" [(ngModel)]="createCustomComponentForm.sequence_number" name="sequencenumber" (focus)="inputClicked($event)">
            <label for="sequencenumber">Sequence (Numerals Only)</label>
          </div>
        </div>
        <div class="c-lg-6 c-md-6 c-sm-6 c-xs-6">
          <div class="field-wrapper">
            <input type="text" class="form-ctrl" [(ngModel)]="createCustomComponentForm.comp_length" name="complength" (focus)="inputClicked($event)">
            <label for="complength">Max- Length (Numerals Only)</label>
          </div>
        </div>

      </div>

      <div class="row extraMargin">
        <div class="c-lg-12 c-md-12 c-sm-12 c-xs-12">
          <aside class="pull-left create-cancel-small">
            <input type="button" value="Cancel" (click)="toggleNewComponentVisisbility()" class="btn cancle">
            <input type="button" value="Create" (click)="addNewCustomComponent()" class="btn redBtn">
          </aside>
        </div>
      </div>

    </div>

    <div class="custom-comp-tablewrapper">
      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Label</th>
              <th>Type</th>
              <th>Prefilled Data</th>
              <th>Description</th>
              <th>Is Required</th>
              <th>Is Searchable</th>
              <th>Sequence</th>
              <th>Max Length</th>
              <th>Action</th>
            </tr>
          </thead>

          <tbody>

            <tr [id]='comp.label + comp.component_id' class="displayComp" *ngFor="let comp of userCreatedComponent">

              <td class="view-comp">{{comp.label}}</td>
              <td class="edit-comp ">
                <div class="field-wrapper">
                  <input type="text" class="form-ctrl" [(ngModel)]="comp.label" name="label">
                </div>
              </td>

              <td class="view-comp">{{comp.type|checkBoxConverter}}</td>
              <td class="edit-comp ">
                <div class="field-wrapper">
                  <select id="" class="form-ctrl" name="opt.data_value" [(ngModel)]="comp.type">
                    <option *ngFor="let opt of componentShell" [value]="opt.data_key">
                      {{opt.data_value}}
                    </option>
                  </select>
                </div>
              </td>


              <td class="view-comp">{{comp.prefilled_data}}</td>
              <td class="edit-comp ">
                <div class="field-wrapper">
                  <input type="text" class="form-ctrl" name="prefilledData" [(ngModel)]="comp.prefilled_data">
                </div>
              </td>

              <td class="view-comp">{{comp.description}}</td>
              <td class="edit-comp ">
                <div class="field-wrapper">
                  <input type="text" class="form-ctrl" name="description" [(ngModel)]="comp.description">
                </div>
              </td>

              <td class="view-comp">{{comp.is_required}}</td>
              <td class="edit-comp ">
                <div class="field-wrapper">
                  <select id="" class="form-ctrl" name="isrequired" [(ngModel)]="comp.is_required">
                    <option value="Y" [attr.selected]="comp.is_required == 'Y'? '': null">Y</option>
                    <option value="N" [attr.selected]="comp.is_required == 'Y'? '': null">N</option>
                  </select>
                </div>
                <!-- <div class="field-checkbox-wrapper">
                  <input type="checkbox" value="" class="form-checkbox" name="isrequired" [(ngModel)]="comp.is_required" [checked]="comp.is_required == 'Y'? true: false">
                  <label for="isrequired"></label>
                </div>
               -->
              </td>

              <td class="view-comp">{{comp.is_searchable}}</td>
              <td class="edit-comp ">
                <div class="field-wrapper">
                  <select id="" class="form-ctrl" name="is_searchable" [(ngModel)]="comp.is_searchable">
                    <option value="Y" [attr.selected]="comp.is_searchable == 'Y'? '': null">Y</option>
                    <option value="N" [attr.selected]="comp.is_searchable == 'Y'? '': null">N</option>
                  </select>
                </div>
                <!-- <div class="field-checkbox-wrapper">
                  <input type="checkbox" value="" class="form-checkbox" name="issearchable" [(ngModel)]="comp.is_searchable" [attr.checked]="comp.is_searchable">
                  <label for="issearchable"></label>
                </div> -->
              </td>

              <td class="view-comp">{{comp.sequence_number}}</td>
              <td class="edit-comp ">
                <div class="field-wrapper">
                  <input type="text" class="form-ctrl" name="sequencenumber" [(ngModel)]="comp.sequence_number">
                </div>
              </td>

              <td class="view-comp">{{comp.comp_length}}</td>
              <td class="edit-comp ">
                <div class="field-wrapper">
                  <input type="text" class="form-ctrl" name="complength" [(ngModel)]="comp.comp_length">
                </div>
              </td>

              <td class="custom-table-action view-comp">
                <ul>
                  <li>
                    <a (click)="editRow(comp)">Edit</a>
                  </li>
                  <li>
                    <a (click)="deleteRow(comp)">Delete</a>
                  </li>
                </ul>
              </td>
              <td class="custom-table-action edit-comp ">
                <ul>
                  <li>
                    <a (click)="cancelEditRow(comp)">Cancel</a>
                  </li>
                  <li>
                    <a (click)="updateRow(comp)">Update</a>
                  </li>
                </ul>
              </td>

            </tr>

          </tbody>

        </table>

      </div>
    </div>

  </section>

</div>