<div class="page-content">
    <div class="head_padding">
      <div class="w98 display">
        <div class="page_heading">
          <p>Supplier Management</p>
        </div>
        <div>

            <button class="blue_button" data-toggle="modal" data-target="#add1Modal">Add Supplier</button>
            <!-- Two Diffrent Button On Tab Change -->
        </div>
      </div>
    </div>
      <div class="w98">
        <div class="pt15 display">
          <div>
            <input type="text" class="input wid240 mr10 magnifying-glass" name="" placeholder="Search">
          </div>
          <div >
                <!-- <a href="" class="mr10"><img src="../../../assets/img1/copy2.svg" title="Copy"></a>
                <a href="" class="mr10"><img src="../../../assets/img1/csv.svg" title="CSV"></a> -->
                <a (click)="downloadPdf()" class="mr10"><img src="../../../assets/img1/pdf.svg" title="PDF Preview"></a> 
                <a (click)="exportToExcel()" class="mr10"><img src="../../../assets/img1/excel.svg" title="Excel Download"></a>
            </div>
        </div>
        <app-basic-table [headers]="headerSetting" [tableSetting]="tableSetting" [displayData]="staticPageData"
        [rowColumnSetting]="rowColumns" (editView)='editRow($event)' (deleteView)='deleteRow($event)'
        (viewView)="viewRow($event)">
        </app-basic-table>
      </div>
         <pagination (goPage)="fetchTableDataByPage($event)" (goNext)="fetchNext()" (goPrev)="fetchPrevious()"
                [pagesToShow]="10" [page]="pageIndex" [perPage]="displayBatchSize" [sizeArr]="sizeArr"
                [count]="totalRecords" (sizeChange)="updateTableBatchSize($event)">
            </pagination> 
            <!-- use image only when page is empty,table body class element will not be present -->

</div> 
  <div class="modal" id="add1Modal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" *ngIf="!isedit" >Add Supplier</h4>
          <h4 class="modal-title" *ngIf="isedit">Update Supplier</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <form #addVendorForm ="ngForm" autocomplete="off">
          <div class="flex">
            <div class="sec1">
              <div class="pt10"  [class.has-error]="company_name.invalid && company_name.touched">
                <input type="text" class="input wid100" id="company_name" name="company_name" placeholder="Company*"  [(ngModel)]="model.company_name"
                #company_name="ngModel" required>
            </div>
            <p class="errormsg"><span  style="height:10px;" class="help-block" *ngIf="!company_name.valid && company_name.touched">
              Company  name is mandatory
           </span></p>
              <div class="pt10">
                <input type="text" class="input wid100" id="email_id" name="email_id" placeholder="Email*"  [(ngModel)]="model.email_id"
                #email_id="ngModel"  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" > </div>
               
             <p  class="errormsg">
                       <span class="help-block" *ngIf="email_id.errors?.pattern">This is not a valid email!</span>
                       </p>
                  
                <div class="pt10">
                  <ng-multiselect-dropdown placeholder="Category *" [(ngModel)]="model.category_id"
                  [data]="categoryAllData" [settings]="moderatorSettings" name="category_id"
                  (ngModelChange)="getItemForSelectedCat($event)">
              </ng-multiselect-dropdown>
                </div>
                <p class="errormsg"> <span  style="height:10px;"class="help-block">
                 
                 </span></p>
            </div>
            <div class="sec2">
              <div class="pt10"  [class.has-error]="supplier_name.invalid && supplier_name.touched">
                <input type="text" class="input wid100" id="supplier_name" name="supplier_name" placeholder="Supplier Name*"  [(ngModel)]="model.supplier_name"
                #supplier_name="ngModel" required>
            </div>
            <p class="errormsg"><span  style="height:10px;" class="help-block" *ngIf="!supplier_name.valid && supplier_name.touched">
              Supplier  name is mandatory
           </span></p>
           <div class="pt10" [class.has-error]="phone_no.invalid && phone_no.touched" >
            <input type="text" class="input wid100" id="unit_cost" 
            name="phone_no" placeholder="Mobile*"  
            #phone_no="ngModel" 
            [(ngModel)]="model.phone_no"
            maxlength="10"
            minlength="10"
            onkeypress=" return (event.charCode >= 48 && event.charCode <= 57)" 
            required>
        </div>
        <p  class="errormsg"> <span class="help-block" *ngIf="!phone_no.valid && phone_no.touched">
          Mobile number is mandatory
      </span>
     <span class="help-block"  *ngIf="phone_no.errors?.minlength">   Please Enter 10 digit mobile number</span>
      
    </p> 
  
    <div class="pt10">
        <ng-multiselect-dropdown placeholder="Item*" [(ngModel)]="model.item_ids"
        [data]="itemAllData" [settings]="moderatorSettingsforitem" name="item_ids">
       </ng-multiselect-dropdown>
      </div>
      <p class="errormsg"> <span  style="height:10px;" class="help-block">
       
       </span></p>
            </div>
          </div>
          <div class="pt10">
            <input type="text" class="input wid100" name="address" id="address"
            [(ngModel)]="model.address"  placeholder="Address">
          </div>
          <div class="pt10 display">
           <div></div>
           <div>
            <button class="right blue_button cancel" data-dismiss="modal" >Cancel</button>
              <button class="right blue_button" *ngIf="!isedit" (click)="saveSupplierDetails(addVendorForm.value)">Save</button>
              <button class="right blue_button"  *ngIf="isedit" (click)="updateSupplierDetails(addVendorForm.value)">Update</button></div>
        
          </div>
        </form>
        </div>        
      </div>
    </div>
  </div>
  <div class="modal" id="deletesModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="center">
            <span><img src="../../../assets/img1/alert.svg"></span><span class="alert">Alert</span>
          </div>
          <!-- <div ><p>Do you want
           to proceed ?</p>
          </div> -->
          <div class="pt101 display">
            <div>
              <button class="white_button right">Cancel</button>
            </div>
            <div>
              <button class="blue_button right">Delete</button>
            </div>
          </div>
        </div>        
      </div>
    </div>
  </div>
