<div class="middle-section clearFix">
  <section class="middle-top mb0 clearFix" style="margin-bottom: 10px;">
    <h1 class="pull-left">
      Batch List
    </h1>
  </section>

  <section class="middle-main clearFix" style="padding-left: 15px;">
    <div class="row">
      <div class="clearFix add-edit pull-left">
        <a (click)="togglecreateNewBatch()">
          <i id="showAddBtn" class="addBtnClass">+</i>
          <i id="showCloseBtn" style="display:none" class="closeBtnClass">-</i>
          <span>Create Batch</span>
        </a>
      </div>
      <div class="pull-right">
        <div class="search-filter-wrapper ">
          <input #search type="text" class="normal-field pull-right" placeholder="Search here" style="font-size:12px;margin-right: 15px;"
            id="search" name="searchData " (keyup)="searchDatabase(search) ">
        </div>
      </div>
    </div>
    <section class="clearFix create-standard-form " *ngIf="createNewBatch ">


      <div class="row">
        <div class="c-lg-6 c-sm-6 c-md-6">
          <div class="field-wrapper">
            <select id="" class="form-ctrl halfwidth" name="row.standard_id" [(ngModel)]="addNewBatch.standard_id" (change)="onMasterCourseSelection($event)"
              (focus)="inputClickedCheck($event)">
              <option value="-1">"---Select---"</option>
              <option *ngFor="let opt of courseList" [value]="opt.standard_id">
                {{opt.standard_name}}
              </option>
            </select>
            <label>Master Course
              <span style="color:red">*</span>
            </label>
          </div>
        </div>
        <div class="c-lg-6 c-sm-6 c-md-6">
          <div class="field-wrapper">
            <select id="" class="form-ctrl halfwidth" name="row.subject_id" [(ngModel)]="addNewBatch.subject_id" (focus)="inputClickedCheck($event)">
              <option value="-1">"---Select---"</option>
              <option *ngFor="let opt of subjectList" [value]="opt.subject_id">
                {{opt.subject_name}}
              </option>
            </select>
            <label>Course
              <span style="color:red">*</span>
            </label>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="c-lg-6 c-sm-6 c-md-6">
          <div class="field-wrapper">
            <select id="" class="form-ctrl halfwidth" name="row.class_room_id" [(ngModel)]="addNewBatch.class_room_id" (focus)="inputClickedCheck($event)">
              <option value="-1">"---Select---"</option>
              <option *ngFor="let opt of classRoomList" [value]="opt.class_room_id">
                {{opt.class_room_name}}
              </option>
            </select>
            <label>Class Room
            </label>
          </div>
        </div>
        <div class="c-lg-6 c-sm-6 c-md-6">
          <div class="field-wrapper">
            <select id="" class="form-ctrl halfwidth" name="row.teacher_id" [(ngModel)]="addNewBatch.teacher_id" (focus)="inputClickedCheck($event)">
              <option value="-1">"---Select---"</option>
              <option *ngFor="let opt of teacherList" [value]="opt.teacher_id">
                {{opt.teacher_name}}
              </option>
            </select>
            <label>Teacher Name
            </label>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="c-lg-6 c-sm-6 c-md-6">
          <div class="field-wrapper ">
            <input type="text " #idSlot class="form-ctrl halfwidth" name="slotNew" [(ngModel)]="addNewBatch.batch_name" (focus)="inputClickedCheck($event) ">
            <label for="slotNew ">Batch Name
              <span style="color:red">* </span>(Eg - IX-Math-TTS-5-6)
            </label>
          </div>
        </div>
        <div class="c-lg-6 c-sm-6 c-md-6">
          <div class="field-wrapper ">
            <input type="text " #idSlot class="form-ctrl halfwidth" name="slotNew" [(ngModel)]="addNewBatch.batch_code" (focus)="inputClickedCheck($event) ">
            <label for="slotNew ">Batch Code (For Student Bulk uplaod)
            </label>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="c-lg-6 c-sm-6 c-md-6">
          <div class="field-wrapper">
            <input type="text" value="" readonly="true" class="form-ctrl bsDatepicker halfwidth" [(ngModel)]="addNewBatch.start_date"
              name="endDate" bsDatepicker (focus)="inputClickedCheck($event)">
            <label for="endDate">Start Date*
            </label>
          </div>
        </div>
        <div class="c-lg-6 c-sm-6 c-md-6">
          <div class="field-wrapper">
            <input type="text" value="" readonly="true" class="form-ctrl bsDatepicker halfwidth" [(ngModel)]="addNewBatch.end_date" name="endDate"
              bsDatepicker (focus)="inputClickedCheck($event)">
            <label for="endDate">End Date*
            </label>
          </div>
        </div>
      </div>

      <div class="row" style="margin-top: 15px;">
        <div class="c-lg-6 c-sm-6 c-md-6">
          <div class="field-checkbox-wrapper">
            <input type="checkbox" class="form-checkbox" [(ngModel)]="addNewBatch.is_active">
            <label>Is Active</label>
          </div>
        </div>
        <div class="c-lg-6 c-sm-6 c-md-6">
          <aside class="pull-left create-cancel-small ">
            <button class="btn" (click)="addNewBatchToList() ">Add</button>
          </aside>
        </div>
      </div>

    </section>
    <div id="divBatchTable">
      <div class="table-scroll-wrapper tableBatchClass">
        <div class="table table-responsive ">
          <table>
            <thead>
              <tr>
                <th>
                  Batch
                </th>
                <th>
                  Batch Code
                </th>
                <th>
                  Master Course
                </th>
                <th>
                  Course
                </th>
                <th>
                  Teacher
                </th>
                <th>
                  Start Date
                </th>
                <th>
                  End Date
                </th>
                <th>
                  Class Room No.
                </th>
                <th>
                  Is Active
                </th>
                <th>
                  Total Students
                </th>
                <th>
                  Edit
                </th>
                <th>
                  Add Students
                </th>
              </tr>
            </thead>
            <tbody>
              <tr id="row{{i}} " class="displayComp " *ngFor="let row of tableData; let i=index; trackBy: i; ">
                <td>
                  {{row.batch_name}}
                </td>
                <td class="view-comp ">
                  {{row.batch_code}}
                </td>
                <td>
                  {{row.standard_name}}
                </td>
                <td>
                  {{row.subject_name}}
                </td>
                <td>
                  {{row.teacher_name}}
                </td>
                <td>
                  {{row.start_date}}
                </td>
                <td>
                  {{row.end_date}}
                </td>
                <td>
                  {{row.class_room_name}}
                </td>
                <td>
                  {{row.is_active}}
                </td>
                <td>
                  {{row.total_students}}
                </td>
                <td>
                  <a style="cursor:pointer" (click)="editTableRow(row)">Edit</a>
                </td>
                <td>
                  <a style="cursor:pointer" (click)="addStudentToBatch(row)">Add Student</a>
                </td>
                <!-- <td class="edit-comp ">
                  <div class="field-wrapper ">
                    <input type="text " class="form-ctrl editCellInput " [(ngModel)]="row.slot_name " name="label ">
                  </div>
                </td>

                <td class="view-comp ">
                  <a class="anchorTagCursor " (click)="editRowTable(row , i) ">Edit</a>
                </td>
                <td class="edit-comp ">
                  <a class="anchorTagCursor " (click)="saveSlotInformation(row , i) "> Save </a>
                  <a class="anchorTagCursor " (click)="cancelEditRow(i) "> Cancel </a>
                </td> -->
              </tr>
              <tr *ngIf="(tableData.length == 0)">
                <td colspan="12">
                  No Batch List Found
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </section>

</div>