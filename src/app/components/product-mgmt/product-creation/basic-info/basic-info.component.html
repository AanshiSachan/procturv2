<loaders-css [loader]="'ball-scale-ripple-multiple'" class="app-loader-wrapper black-bg" [loaderClass]="'blueRipple'"
  *ngIf="isRippleLoad">
</loaders-css>
<div class="row">
  <div class="col-md-1"></div>
  <div class="col-md-10">
    <div class="row">
      <div class="col-md-12">
        <div class="form-group">
          <label class="text-bold">Product Name
            <span class="text-danger">*</span>
          </label>
          <input type="text" autocomplete="off" [(ngModel)]="prodForm.title" name="title" #title="ngModel"
            class="form-control form-control-sm" placeholder="Product Name" required />
          <div *ngIf="title.invalid && (title.dirty || title.touched)" class="alert alert-danger">
            <div *ngIf="title.errors.required">
              product name should not be empty
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="text-bold">E-courses <span class="text-danger">*</span></label>
          <ng-multiselect-dropdown  [placeholder]="'Select E-courses'" [(ngModel)]="products_ecourse_maps"
            [data]="ecourseList" [settings]="moderatorSettings">
          </ng-multiselect-dropdown>
        </div>
      </div>


      <div class="col-md-12">
        <div class="form-group">
          <label class="text-bold">Description  <span class="text-danger">*</span></label>
          <textarea [(ngModel)]="prodForm.about" name="description" class="form-control form-control-sm"
            placeholder="Write a short description about this product"></textarea>
        </div>
      </div>
      <div class="col-md-12">
        <div class="col-md-6" style=" padding-left: 0px;">
          <div class="form-group">
            <label class="text-bold">Product Sell Limit <span class="text-danger">*</span></label>
            <input type="text" maxlength="6" onkeypress="return (event.charCode >= 48 && event.charCode <= 57)" autocomplete="off"
              [(ngModel)]="prodForm.purchase_limit" name="purchase_limit" class="form-control form-control-sm">
          </div>
        </div>
        <div class="col-md-6" style=" padding-right: 0px;">
          <div class="form-group" style="text-align: right;">
            <label class="text-bold" style="position: absolute; left: 19px;">Price</label>
            <span class="field-checkbox-wrapper">
              <input class="form-checkbox" type="checkbox" id="free_price" [(ngModel)]="prodForm.is_paid"
                (ngModelChange)="prodForm.is_paid = $event ? 1 : 0;prodForm.price =0" name="free_price" name="is_paid">
              <label for="free_price">Free</label>
            </span>
            <input type="text" value="0" onkeypress="return (event.charCode >= 48 && event.charCode <= 57)"
              [(ngModel)]="prodForm.price" [disabled]="prodForm.is_paid" name="price"
              class="form-control form-control-sm">
          </div>
        </div>
      </div>
      <div class="col-md-12">
        <div class="form-group">
          <label class="text-bold">Product Items</label>
        </div>
        <div class="row form-group border-bt">
          <div class="col-md-4" *ngFor="let item of itemStates;let i = index">
            <div class="field-checkbox-wrapper">
              <input class="form-checkbox" [(ngModel)]="prodItems[item.slug]"
                (ngModelChange)="updateProductItemStates($event,item)" [name]="'item-'+i" [id]="item.slug" value="1"
                type="checkbox">
              <label [for]="item.slug">{{item.name}} </label>
            </div>
          </div>
        </div>
      </div>
      <div class="row m-0">
        <div class="col-md-12 form-group m-0">
          <label class="text-bold">Sales Date Range</label>
        </div>
        <div class="col-md-6 form-group" >
          <div class="col-md-12 datePickerBox" style="padding-top: 0px;padding-bottom: 10px;">
            <label for="from">From Date<span class="text-danger">*</span></label>
            <input type="text" [(ngModel)]="prodForm.sales_from_date" name="from" class="form-control form-control-sm"
              autocomplete="off" bsDatepicker>
          </div>
        </div>
        <div class="col-md-6 form-group">
          <div class="col-md-12 datePickerBox" style="padding-top: 0px;padding-bottom: 10px;">
            <label for="from">To Date</label>
            <input type="text" [(ngModel)]="prodForm.sales_to_date" name="to" class="form-control form-control-sm"
              autocomplete="off" bsDatepicker>
          </div>
        </div>
      </div>
      <div class="row m-0">
        <div class="col-md-9 form-group m-0">
          <label class="text-bold">Visibility Date Range</label>
        </div>
        <div class="col-md-3" style=" padding-right: 0px;">
          <div class="form-group" style="text-align: right;">
            <label class="text-bold" style="position: absolute; left: 19px;"></label>
            <span class="field-checkbox-wrapper">
              <input class="form-checkbox" type="checkbox" id="free_price" [(ngModel)]="prodForm.is_duration"
                name="is_duration" name="is_duration">
              <label for="free_price">Show Duration </label>
            </span>
          </div>
        </div>
        <div class="col-md-6 form-group" *ngIf="!prodForm.is_duration" >
          <div class="col-md-12 datePickerBox" style="padding-top: 0px;padding-bottom: 10px;">
            <label for="from">From Date<span class="text-danger">*</span></label>
            <input type="text" [(ngModel)]="prodForm.valid_from_date" name="from" class="form-control form-control-sm"
              autocomplete="off" bsDatepicker>
          </div>
        </div>
        <div class="col-md-6 form-group" *ngIf="!prodForm.is_duration">
          <div class="col-md-12 datePickerBox" style="padding-top: 0px;padding-bottom: 10px;">
            <label for="from">To Date</label>
            <input type="text" [(ngModel)]="prodForm.valid_to_date" name="to" class="form-control form-control-sm"
              autocomplete="off" bsDatepicker>
          </div>
        </div>
        <div class="col-md-6 form-group" *ngIf="prodForm.is_duration">
          <div class="col-md-12 datePickerBox" style="padding-top: 0px;padding-bottom: 10px;">
            <label for="from">Duration<span class="text-danger">*</span></label>
            <div class="questionInfo inline-relative">
              <span class="qInfoIcon i-class">i</span>
              <div class="tooltip-box-field">
                Provide validate date duration in Days
                <br> its start from student purchase date 
              </div>
            </div>
            <input type="text" maxlength="4" onkeypress="return (event.charCode >= 48 && event.charCode <= 57)" [(ngModel)]="prodForm.duration"  name="from"
              class="form-control form-control-sm" autocomplete="off" >
          </div>
        </div>      
        <!-- <div class="col-md-6 form-group"  style="margin-top: 1.6rem;">
          <div class="col-md-12 datePickerBox" style="padding-top: 0px;padding-bottom: 10px;">
            <label for="from">{{prodForm.valid_from_date}}</label> to <label
              for="from">{{prodForm.valid_to_date}}</label>
          </div>

          <div class="col-md-2 form-group text-right m-auto text-bold" style="margin-top: 25px;">
          <label>{{calc_days()}} Day(s)</label>
        </div>
        </div> -->
      </div>
    </div>
    <div class="col-md-1"></div>
  </div>

  <div class="row basic-info-footer">
    <div class="col text-center">
      <button class="btn btn-outline-danger btn-round" (click)="gotoBack()"> Cancel</button>
      <button class="btn btn-primary btn-round" (click)="saveProduct()">Save & Next</button>
    </div>
  </div>