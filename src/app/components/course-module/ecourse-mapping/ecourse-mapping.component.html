<div class="clearFix" style="padding-right: 2%;">
  <aside class="middle-full">
    <section class="middle-main clearFix">
      <div class="middle-top mb0 clearFix header" style="width: 100%;
            padding-bottom: 20px;    background:#f4f5f7;">
        <div class="row" style="margin-left: 0;margin-right: 0">
          <h2 style="padding: 16px 0px 3px 10px;" class="pull-left">
            <a routerLink="/view/e-store/home">
             <!-- {{jsonflag.isProfessional ? 'Batch' : 'Course'}}-->
             eStore
            </a>
            <i style="font-family: 'FontAwesome';" class="fas fa-angle-right"></i> E-course Mapping
          </h2>
          <!-- <a (click)="clearObjects()" *ngIf="jsonflag.isUpadted" class="form btnAdd">Add E-Course
          </a> -->

        </div>

        <div class="row" style="margin-left: 0;margin-right: 0">
          <div class="c-lg-12 field-made">
            <div class="c-lg-3 field-wrapper">
              <label for="from">E-course Name<span class="text-danger">*</span></label>
              <input type="text" class="form-ctrl" [(ngModel)]="ecourseObject.course_type">
            </div>

            <div class="c-lg-3 c-md-3 c-ms-3" style="height: auto;" *ngIf="jsonflag.allowMapping=='1'"
              (click)="openAssignBatch()">
              <div style="height: 80px; padding: 5px; background: #efefef; overflow-y: auto;">
                <div *ngFor="let course of assignCourses" [ngClass]="!jsonflag.isUpadted?'chipped intable':''">

                  <span *ngIf="!jsonflag.isUpadted">{{course}}</span>
                </div>

                <span
                  *ngIf="(!jsonflag.isProfessional &&(assignCourses.length==0))||(!jsonflag.isProfessional && jsonflag.isUpadted)"
                  style="    color: gray;">Assign Courses</span>
                <span
                  *ngIf="jsonflag.isProfessional &&(assignCourses.length==0) ||(jsonflag.isProfessional && jsonflag.isUpadted)"
                  style="    color: gray;">Assign Standard</span>
              </div>
              <a style="cursor:pointer" *ngIf="!jsonflag.isProfessional" (click)="openAssignBatch()">Assign Courses</a>
              <a style="cursor:pointer" *ngIf="jsonflag.isProfessional" (click)="openAssignBatch()">Assign Standard</a>
            </div>

            <div class="c-lg-3 field-wrapper" *ngIf="jsonflag.allowMapping=='1'" style="width: 20%;">
              <!-- <div class="field-wrapper"> -->
              <!-- <br> -->
              <div class="c-lg-2" style="width: 50%;">
                <input type="radio" class="form-ctrl radio" name="is_offline_or_online" value="Y"
                  id="is_offline_or_online" [(ngModel)]="ecourseObject.is_online"><label
                  class="online_offline_label">Online</label>
              </div>
              <div class="c-lg-2" style="width: 50%;padding-left: 0;">
                <input type="radio" class="form-ctrl radio" name="is_offline_or_online" value="N"
                  id="is_offline_or_online" style="-webkit-appearance: radio;"
                  [(ngModel)]="ecourseObject.is_online"><label>Offline</label>
              </div>
              <!-- </div> -->
            </div>

            <div class="c-lg-2" style="margin-top:2%;">
              <input type="button" class="btn fullBlue" value="Add" (click)="addEcourseMapping()">
              <!-- <input type="button" class="btn fullBlue" *ngIf="jsonflag.isUpadted" value="Update" (click)="updateCourseMapping()"> -->
            </div>
          </div>
        </div>

      </div>

      <div class="table table-responsive" style="margin-top: 30px;">
        <data-display-table *ngIf="displayKeys.length" #child [displayKeys]="tableSetting" [displayData]="ecourseData"
          (editView)='optionSelected($event)'>
        </data-display-table>
      </div>
    </section>
  </aside>
</div>


<proctur-popup [sizeWidth]="'large'" *ngIf="jsonflag.isAssignBatch">

  <span class="closePopup pos-abs fbold show" (click)="jsonflag.isAssignBatch = false" close-button>
    <svg class="artdeco-icon" focusable="false" height="24px" preserveAspectRatio="xMinYMin meet" viewBox="0 0 24 24"
      width="24px" x="0" y="0">
      <path class="large-icon"
        d="M20,5.32L13.32,12,20,18.68,18.66,20,12,13.33,5.34,20,4,18.68,10.68,12,4,5.32,5.32,4,12,10.69,18.68,4Z"
        style="fill: currentColor"></path>
    </svg>
  </span>

  <h2 popup-header *ngIf="!jsonflag.isProfessional">Select Courses</h2>
  <h2 popup-header *ngIf="jsonflag.isProfessional">Select Standard</h2>
  <!-- <h2 popup-header>Select Standards</h2> -->

  <div popup-content class="student-assign-popup">
    <div class=" filter-section">
      <div class="batch-table row">
        <table>
          <tbody *ngIf="batchList.length != 0">
            <tr *ngFor="let batch of batchList; let i = index">
              <td style="text-align: left;">
                <div class="inst-no">
                  <div class="field-checkbox-wrapper">
                    <input type="checkbox" name="batchcheck{{i}}" id="batchcheck{{i}}" name="batch"
                      [(ngModel)]="batch.isSelected" class="form-checkbox">
                    <label for="batchcheck{{i}}">{{batch.title}}</label>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
          <tbody *ngIf="batchList.length == 0">
            <tr>
              <td colspan="7">
                No data found
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="" popup-footer>
    <div class="clearfix" style="margin-top :10px">
      <aside class="pull-right popup-btn">
        <input type="button" value="Cancel" class="btn" (click)="jsonflag.isAssignBatch = false">
        <input type="button" *ngIf="!jsonflag.isProfessional" value="Assign course" class="fullBlue btn"
          (click)="addCourseOrStandard()">
        <input type="button" *ngIf="jsonflag.isProfessional" value="Assign Batch" class="fullBlue btn"
          (click)="addCourseOrStandard()">
      </aside>
    </div>
  </div>

</proctur-popup>


<proctur-popup [sizeWidth]="'large'" *ngIf="statusOption">

  <span class="closePopup pos-abs fbold show" (click)="clearObjects()" close-button>
    <svg class="artdeco-icon" focusable="false" height="24px" preserveAspectRatio="xMinYMin meet" viewBox="0 0 24 24"
      width="24px" x="0" y="0">
      <path class="large-icon"
        d="M20,5.32L13.32,12,20,18.68,18.66,20,12,13.33,5.34,20,4,18.68,10.68,12,4,5.32,5.32,4,12,10.69,18.68,4Z"
        style="fill: currentColor"></path>
    </svg>
  </span>

  <h2 popup-header>Edit E-course</h2>
  <!-- <h2 popup-header>Select Standards</h2> -->

  <div popup-content class="student-assign-popup">
    <div class=" filter-section">
      <div class="batch-table row">
        <div class="c-lg-12" style="margin-bottom: 10px;padding: 0;">
          <div class="c-lg-6" style="margin-top: 10px;">
            <label class="course_type" style="margin-right: 10px;font-weight: 600;">E-course Name</label>
            <input type="text" class="form-ctrl" name="course_type" id="course_type"
              [(ngModel)]="updateEcourseObject.course_type"
              style="border-radius: 4px;border: 1px solid #ccc;padding: 5px;">
          </div>
          <div class="c-lg-6" style="margin-top: 10px;" *ngIf="jsonflag.allowMapping=='1'">
            <label class="course_type" style="margin-right: 10px;float: left;font-weight: 600;">Status</label>
            <div class="c-lg-3" style="padding: 0;">
              <input type="radio" class="form-ctrl radio" name="is_offline_or_online" value="Online"
                id="is_offline_or_online" [(ngModel)]="ecourseObject.status"><label
                class="online_offline_label">Online</label>
            </div>
            <div class="c-lg-3" style="padding: 0;padding-bottom: 15px;">
              <input type="radio" class="form-ctrl radio" name="is_offline_or_online" value="Offline"
                id="is_offline_or_online" style="-webkit-appearance: radio;" [(ngModel)]="ecourseObject.status"><label
                class="online_offline_label">Offline</label>
            </div>
          </div>
        </div>
        <h2 popup-header *ngIf="!jsonflag.isProfessional && jsonflag.allowMapping=='1'" style="padding-left: 15px;">
          Select Courses</h2>
        <h2 popup-header *ngIf="jsonflag.isProfessional && jsonflag.allowMapping=='1'" style="padding-left: 15px;">
          Select Standard</h2>
        <table *ngIf="jsonflag.allowMapping=='1'">
          <tbody *ngIf="batchList.length != 0">
            <tr *ngFor="let batch of batchList; let i = index">
              <td style="text-align: left;">
                <div class="inst-no">
                  <div class="field-checkbox-wrapper">
                    <input type="checkbox" name="batchcheck{{i}}" id="batchcheck{{i}}" name="batch"
                      [(ngModel)]="batch.isSelected" class="form-checkbox">
                    <label for="batchcheck{{i}}">{{batch.title}}</label>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
          <tbody *ngIf="batchList.length == 0">
            <tr>
              <td colspan="7">
                No data found
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="" popup-footer>
    <div class="clearfix" style="margin-top :10px">
      <aside class="pull-right popup-btn">
        <input type="button" value="Cancel" class="btn" (click)="clearObjects()">
        <input type="button" value="Update" class="fullBlue btn" (click)="addCourseOrStandard()">
      </aside>
    </div>
  </div>

</proctur-popup>