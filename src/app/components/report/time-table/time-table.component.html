<loaders-css [loader]="'ball-scale-ripple-multiple'" class="app-loader-wrapper" [loaderClass]="'blueRipple'" *ngIf="isRippleLoad">
</loaders-css>
<div class="middle-section clear-fix">
    <aside class="middle-full">
        <section class="middle-main clearFix attendance-container">
            <section class="middle-top mb0 clearFix sms-header">
                <h2 class="pull-left">
                    <a routerLink="/reports/home">
                        Report
                    </a>
                    <i style="font-family: 'FontAwesome';" class="fas fa-angle-right"></i>
                    Time Table
                </h2>
                <aside class="pull-right">
                </aside>
            </section>
            <section class="filter-form">
                <div class="row" *ngIf="!isProfessional">
                    <div class="c-sm-3 c-xs-3 c-lg-3 c-md-3 field-wrapper">
                        <label>Master Course</label>
                        <select class="form-ctrl" id="one" [(ngModel)]="fetchFieldData.master_course" (ngModelChange)="getCourses($event)" name="masterCourse">
                            <option value="-1">Master Course</option>
                            <option *ngFor="let i of masterCoursesData" [value]="i.master_course">{{i.master_course}}</option>
                        </select>
                    </div>
                    <div class="c-sm-3 c-xs-3 c-lg-3 c-md-3 field-wrapper">
                        <label>Course</label>
                        <select class="form-ctrl" id="two" [(ngModel)]="fetchFieldData.course_id" (ngModelChange)="getSubjects($event)">
                            <option value="-1">Course</option>
                            <option *ngFor="let i of courseData" [value]="i.course_id" name="Course">{{i.course_name}}</option>
                        </select>
                    </div>

                    <div class="c-sm-3 c-xs-3 c-lg-3 c-md-3 field-wrapper">
                        <label>Subjects</label>
                        <select class="form-ctrl" id="three" [(ngModel)]=" fetchFieldData.batch_id">
                            <option value="-1">Subjects</option>
                            <option *ngFor="let i of subjectData" [value]="i.batch_id" name="Subject">{{i.batch_name}}</option>
                        </select>
                    </div>
                    <div class="c-sm-3 c-xs-3 c-lg-3 c-md-3 field-wrapper">
                        <label>Teachers</label>
                        <select class="form-ctrl" id="four" [(ngModel)]=" fetchFieldData.teacher_id">
                            <option value="-1">Teachers</option>
                            <option *ngFor="let i of getTeachersData" [value]="i.teacher_id" name="teachername">{{i.teacher_name}}</option>
                        </select>
                    </div>
                    <input type="button" class="normal-btn fullBlue btn pull-right" style="margin-top:14px;margin-right:568px" value="View" (click)="fetchTimeTableReport('0')"
                    />

                </div>
                <!-- <input type="button" class="normal-btn fullBlue btn" value="DetailReport" (click)="fetchDetailReport()" />-->
            </section>
            <input type="button" class="normal-btn fullBlue btn btn-time" style="margin-top:-4px" value="Print Time Table" />
           <!-- <input type="button" class="normal-btn fullBlue btn pull-right" style="margin-top:-5px" value="Previous Week" (click)="fetchTimeTableReport('-1')"
            />
            <input type="button" class="normal-btn fullBlue btn pull-right" style="margin-top:-5px" value="Next Week" (click)="fetchTimeTableReport('1')"
            />-->
            <div class="cal-left c-control" (click)="gotoPreviousWeek()"></div>
            <div class="cal-right c-control" (click)="gotoNextWeek()"></div>
       
        </section>
        <div class="table table-responsive student-table stdnt-table" *ngIf="!isProfessional">
          <!--  <div class="search-filter-wrapper" id="adFilterExitVisible">
                <input #search type="text" class="normal-field" [(ngModel)]="searchText" style="font-size:12px" placeholder="Search" (keyup)="searchDatabase()">
            </div>-->
            <section *ngIf="showtable">
                <h4 style="text-align:center;margin-top: 2%;margin-bottom: 2%;">{{startdateweek}} - {{enddateweek}}</h4>
                <div *ngIf="datesArr.length > 0">
                    <div class="table table-responsive student-table made">
                        <table #timeTable>
                            <tr *ngFor="let i of datesArr">
                                <th>
                                    {{i}}
                                </th>
                                <td *ngFor="let j of timeTableObj[i]">
                                    {{j}}
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div *ngIf="datesArr.length == 0">
                    <h3 style="text-align:center">No Schedule Available</h3>
                </div>
            </section>
        </div>

    </aside>
</div>

<!--
<div class="master" *ngIf="!isProfessional">
    <input type="button" class="normal-btn fullBlue btn" value="View" (click)="fetchExamReport()" />
    <input type="button" class="normal-btn fullBlue btn" value="DetailReport" (click)="fetchDetailReport()" />
</div>
-->

<!--  <div class="poor">
        <proctur-table [records]="pagedExamSource | filter:pagedExamSource.student_name :pagedExamSource.student_id:pagedExamSource.student_phone:pagedExamSource.doj"
            [tableName]="'Exam'" [settings]="projectSettings" (sortData)="sortedData($event)" [direction]="direction" [sortingEnabled]="sortingEnabled">
        </proctur-table>
    </div>-->

<div class="row filter-res pagination" style="width: 100%;" *ngIf="!isProfessional">
    <div class="c-lg-12 c-md-12 c-sm-12 align-right">
        <pagination (goPage)="fetchTableDataByPage($event)" (goNext)="fetchNext()" (goPrev)="fetchPrevious()" [pagesToShow]="10"
            [page]="pageIndex" [perPage]="displayBatchSize" [count]="totalRecords">
        </pagination>
    </div>
</div>